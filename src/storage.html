<!doctype html>
<meta charset="utf-8">

<script async type="module">
    const jsonSessionStorage = {
        /** @type {string | null} */
        get foo() {
            return JSON.parse(sessionStorage.getItem("foo") ?? "null");
        },
        set foo(v) {
            sessionStorage.setItem("foo", JSON.stringify(v));
        }
    };

    const jsonLocalStorage = {
        /** @type {number | null} */
        get foo() {
            return JSON.parse(localStorage.getItem("foo") ?? "null");
        },
        set foo(v) {
            localStorage.setItem("foo", JSON.stringify(v));
        }
    };

    jsonSessionStorage.foo = "foo";
    jsonLocalStorage.foo = 12345;

    console.log(jsonSessionStorage.foo, jsonLocalStorage.foo);

    sessionStorage.clear();
    localStorage.clear();
</script>