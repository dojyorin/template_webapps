<!doctype html>
<meta charset="utf-8">

<script async type="module">
    const ws = new WebSocket(`ws://${location.host}/ws`);

    ws.onerror = () => ws.close();
    ws.onclose = () => console.log("CLOSE WebSocket");
    ws.onopen = () => console.log("OPEN WebSocket");

    /**
    * @param {MessageEvent<Uint8Array | string>} event
    */
    ws.onmessage = async({data})=>{
        console.log(data);
    };
</script>

<main></main>