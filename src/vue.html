<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, height=device-height, minimum-scale=1, maximum-scale=1, initial-scale=1, user-scalable=no">
        <meta name="referrer" content="no-referrer">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@2/dist/vuetify.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5/css/materialdesignicons.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&family=Kosugi+Maru">

        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vuetify@2/dist/vuetify.min.js"></script>

        <title></title>
    </head>

    <body>
        <template id="vue">
            <v-app>
                <v-snackbar dark top centered :color="notify.color" v-model="notify.visible">
                    <v-icon left>mdi-bell-ring-outline</v-icon>
                    <span>{{notify.message}}</span>
                    <template #action>
                        <v-btn icon @click="notify.visible = false">
                            <v-icon>mdi-close</v-icon>
                        </v-btn>
                    </template>
                </v-snackbar>

                <v-overlay dark z-index="9" opacity="0.9" v-model="loading.visible">
                    <v-progress-circular indeterminate size="128" width="6" color="blue">
                        <span class="white--text">Loading...</span>
                    </v-progress-circular>
                </v-overlay>

                <v-navigation-drawer app temporary v-model="drawer.visible">
                    <v-toolbar dark color="blue" :height="$vuetify.application.top">
                        <v-btn icon @click="vDrawer(false)">
                            <v-icon large>mdi-close</v-icon>
                        </v-btn>

                        <v-toolbar-title>Menu</v-toolbar-title>
                    </v-toolbar>

                    <v-list>
                        <template v-for="content in drawer.contents">
                            <v-list-item @click="vRouter(content.to), vDrawer(false)">
                                <v-list-item-icon>
                                    <v-icon>{{content.icon}}</v-icon>
                                </v-list-item-icon>

                                <v-list-item-content>
                                    <v-list-item-title>{{content.title}}</v-list-item-title>
                                </v-list-item-content>
                            </v-list-item>
                        </template>
                    </v-list>
                </v-navigation-drawer>

                <v-app-bar app dark color="blue" height="52">
                    <v-app-bar-nav-icon @click="vDrawer(true)"></v-app-bar-nav-icon>
                    <v-toolbar-title>Application</v-toolbar-title>
                </v-app-bar>

                <v-main>
                    <v-window class="fill-height" v-model="router.path">
                        <v-window-item value="/">
                            <v-container fluid>
                                <v-row justify="center">
                                    <v-col cols>
                                        <v-card>
                                            <v-card-title>Main</v-card-title>
                                        </v-card>
                                    </v-col>
                                </v-row>
                            </v-container>
                        </v-window-item>

                        <v-window-item value="/sub">
                            <v-container fluid>
                                <v-row justify="center">
                                    <v-col cols>
                                        <v-card>
                                            <v-card-title>Sub</v-card-title>
                                        </v-card>
                                    </v-col>
                                </v-row>
                            </v-container>
                        </v-window-item>
                    </v-window>
                </v-main>

                <v-footer app dark tile padless color="blue">
                    <v-row no-gutters justify="center">
                        Copyright
                    </v-row>
                </v-footer>
            </v-app>
        </template>
    </body>

    <script async type="module">
        const vue = new Vue({
            el: "#vue",
            vuetify: new Vuetify(),

            data(){
                return {
                    notify: {
                        visible: false,
                        message: "",
                        color: ""
                    },
                    loading: {
                        visible: false
                    },
                    drawer: {
                        visible: false,
                        contents: [{
                            title: "Main",
                            to: "/",
                            icon: "mdi-home"
                        }, {
                            title: "Sub",
                            to: "/sub",
                            icon: "mdi-account-circle"
                        }]
                    },
                    router: {
                        path: "/"
                    }
                };
            },

            methods: {
                vNotify(message, color){
                    this.notify.visible = false;
                    this.notify.message = message ?? "";
                    this.notify.color = color ?? "info";
                    this.notify.visible = true;
                },

                vLoading(state){
                    this.loading.visible = state ?? false;
                },

                vDrawer(state){
                    this.drawer.visible = state ?? false;
                },

                vRouter(path){
                    this.router.path = path ?? "/";
                }
            },

            async mounted(){
                this.vLoading(true);
                await new Promise(res => setTimeout(res, 1000));
                this.vLoading(false);

                this.vNotify("Loading...");
            }
        });
    </script>

    <style>
        ::-webkit-scrollbar{
            display: none !important;
        }
        .v-application{
            font-family: "M PLUS Rounded 1c", "Kosugi Maru" !important;
        }
        .v-btn{
            text-transform: none !important;
            letter-spacing: normal !important;
            text-indent: 0 !important;
        }
    </style>
</html>