<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
        <meta name="referrer" content="no-referrer">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@2/dist/vuetify.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5/css/materialdesignicons.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=M+PLUS+1+Code:wght@100;200;300;400;500;600;700">

        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vuetify@2/dist/vuetify.min.js"></script>

        <title>Application</title>
    </head>

    <body>
        <template id="vue">
            <v-app>
                <v-snackbar dark top centered :color="vNotifyColor" v-model="vNotifyVisible">
                    <v-icon left>mdi-bell-ring-outline</v-icon>
                    <span>{{vNotifyMessage}}</span>
                    <template #action>
                        <v-btn icon @click="vNotifyVisible = false">
                            <v-icon>mdi-close</v-icon>
                        </v-btn>
                    </template>
                </v-snackbar>

                <v-overlay dark z-index="999" opacity="0.9" v-model="vLoadingVisible">
                    <v-progress-circular indeterminate size="128" width="6" color="blue">
                        <span class="white--text">Loading...</span>
                    </v-progress-circular>
                </v-overlay>

                <v-navigation-drawer app temporary v-model="vDrawerVisible">
                    <v-toolbar dark color="blue" :height="$vuetify.application.top">
                        <v-btn icon @click="vDrawer(false)">
                            <v-icon large>mdi-close</v-icon>
                        </v-btn>

                        <v-toolbar-title>Menu</v-toolbar-title>
                    </v-toolbar>

                    <v-list>
                        <v-list-item @click="vRouter('/'), vDrawer(false)">
                            <v-list-item-icon>
                                <v-icon>mdi-home</v-icon>
                            </v-list-item-icon>

                            <v-list-item-content>
                                <v-list-item-title>HOME</v-list-item-title>
                            </v-list-item-content>
                        </v-list-item>

                        <v-list-item @click="vRouter('/sub'), vDrawer(false)">
                            <v-list-item-icon>
                                <v-icon>mdi-account-circle</v-icon>
                            </v-list-item-icon>

                            <v-list-item-content>
                                <v-list-item-title>SUB</v-list-item-title>
                            </v-list-item-content>
                        </v-list-item>
                    </v-list>
                </v-navigation-drawer>

                <v-app-bar app dark color="blue" height="52">
                    <v-app-bar-nav-icon @click="vDrawer(true)"></v-app-bar-nav-icon>
                    <v-toolbar-title>Application</v-toolbar-title>
                </v-app-bar>

                <v-main>
                    <v-window touchless class="fill-height" v-model="vRouterPath">
                        <v-window-item class="fill-height" value="/">
                            <v-container fluid>
                                <v-row justify="center">
                                    <v-col cols>
                                        <v-card>
                                            <v-card-title>Main</v-card-title>
                                        </v-card>
                                    </v-col>
                                </v-row>
                            </v-container>
                        </v-window-item>

                        <v-window-item class="fill-height" value="/sub">
                            <v-container fluid>
                                <v-row justify="center">
                                    <v-col cols>
                                        <v-card>
                                            <v-card-title>Sub</v-card-title>
                                        </v-card>
                                    </v-col>
                                </v-row>
                            </v-container>
                        </v-window-item>
                    </v-window>
                </v-main>

                <v-footer app dark tile padless color="blue">
                    <v-row no-gutters justify="center">Copyright</v-row>
                </v-footer>
            </v-app>
        </template>
    </body>

    <script async type="module">
        /**
        * @typedef {object} VueSystem
        * @property {HTMLElement} $el
        * @property {VueRefs} $refs
        * @property {VueProps} $props
        * @property {VueData} $data
        * @property {object} $options
        * @property {() => VueData} $options.data
        * @property {VueMethods} $options.methods
        */

        /**
        * @typedef {object} VuetifySystem
        * @property {object} $vuetify
        * @property {object} $vuetify.application
        * @property {number} $vuetify.application.bar
        * @property {number} $vuetify.application.bottom
        * @property {number} $vuetify.application.footer
        * @property {number} $vuetify.application.insetFooter
        * @property {number} $vuetify.application.left
        * @property {number} $vuetify.application.right
        * @property {number} $vuetify.application.top
        * @property {object} $vuetify.breakpoint
        * @property {number} $vuetify.breakpoint.height
        * @property {boolean} $vuetify.breakpoint.lg
        * @property {boolean} $vuetify.breakpoint.lgAndDown
        * @property {boolean} $vuetify.breakpoint.lgAndUp
        * @property {boolean} $vuetify.breakpoint.lgOnly
        * @property {boolean} $vuetify.breakpoint.md
        * @property {boolean} $vuetify.breakpoint.mdAndDown
        * @property {boolean} $vuetify.breakpoint.mdAndUp
        * @property {boolean} $vuetify.breakpoint.mdOnly
        * @property {boolean} $vuetify.breakpoint.mobile
        * @property {number} $vuetify.breakpoint.mobileBreakpoint
        * @property {string} $vuetify.breakpoint.name
        * @property {number} $vuetify.breakpoint.resizeTimeout
        * @property {number} $vuetify.breakpoint.scrollBarWidth
        * @property {boolean} $vuetify.breakpoint.sm
        * @property {boolean} $vuetify.breakpoint.smAndDown
        * @property {boolean} $vuetify.breakpoint.smAndUp
        * @property {boolean} $vuetify.breakpoint.smOnly
        * @property {object} $vuetify.breakpoint.thresholds
        * @property {number} $vuetify.breakpoint.thresholds.lg
        * @property {number} $vuetify.breakpoint.thresholds.md
        * @property {number} $vuetify.breakpoint.thresholds.sm
        * @property {number} $vuetify.breakpoint.thresholds.xs
        * @property {number} $vuetify.breakpoint.width
        * @property {boolean} $vuetify.breakpoint.xl
        * @property {boolean} $vuetify.breakpoint.xlOnly
        * @property {boolean} $vuetify.breakpoint.xs
        * @property {boolean} $vuetify.breakpoint.xsOnly
        */

        /**
        * @typedef {object} VueRefs
        * @property {{$el: HTMLElement}} test
        */

        /**
        * @typedef {object} VueProps
        * @property {number} test
        */

        /**
        * @typedef {object} VueData
        * @property {boolean} vNotifyVisible
        * @property {string} vNotifyMessage
        * @property {string} vNotifyColor
        * @property {boolean} vLoadingVisible
        * @property {string} vRouterPath
        * @property {boolean} vDrawerVisible
        */

        /**
        * @typedef {object} VueMethods
        * @property {(message: string, color: string) => void} vNotify
        * @property {(state: boolean) => void} vLoading
        * @property {(path: string) => void} vRouter
        * @property {(state: boolean) => void} vDrawer
        */

        /**
        * @typedef {VueSystem & VuetifySystem & VueData & VueMethods} VueThis
        */

        const vue = new Vue({
            el: "#vue",
            vuetify: new Vuetify(),

            /** @return {VueData} */
            data(){
                return {
                    vNotifyVisible: false,
                    vNotifyMessage: "",
                    vNotifyColor: "",
                    vLoadingVisible: false,
                    vRouterPath: "/",
                    vDrawerVisible: false
                };
            },

            /** @type {VueMethods} */
            methods: {
                /** @this {VueThis} */
                vNotify(message, color){
                    this.vNotifyVisible = false;
                    this.vNotifyMessage = message;
                    this.vNotifyColor = color;
                    this.vNotifyVisible = true;
                },

                /** @this {VueThis} */
                vLoading(state){
                    this.vLoadingVisible = state;
                },

                /** @this {VueThis} */
                vRouter(path){
                    this.vRouterPath = path;
                },

                /** @this {VueThis} */
                vDrawer(state){
                    this.vDrawerVisible = state;
                }
            },

            /** @this {VueThis} */
            async mounted(){
                this.vLoading(true);
                await new Promise(done => setTimeout(done, 1000));
                this.vLoading(false);

                this.vNotify("Loading...", "success");
            }
        });

        // ConsoleDebug
        Object.defineProperty(globalThis, "__vue", {
            enumerable: false,
            configurable: false,
            writable: false,
            value: vue
        });
    </script>

    <style>
        ::-webkit-scrollbar{
            display: none !important;
        }
        *{
            font-family: "M PLUS 1 Code" !important;
        }
        .v-btn{
            text-transform: none !important;
            letter-spacing: normal !important;
            text-indent: 0 !important;
        }
    </style>
</html>